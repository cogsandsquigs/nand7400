namespace Nand7400 {};

[Error]
enum AssemblerError {
	"OpcodeDNE",
	"LabelDNE",
};

interface AssemblerFfi {
	constructor(AssemblerConfig config);
	
	[Throws=AssemblerError]
	bytes assemble(string source);
	void set_config(AssemblerConfig config);
};

dictionary AssemblerConfig {
	sequence<Opcode> opcodes;
};

dictionary Opcode {
	string name;
	u8 binary;
	u32 num_args;
};